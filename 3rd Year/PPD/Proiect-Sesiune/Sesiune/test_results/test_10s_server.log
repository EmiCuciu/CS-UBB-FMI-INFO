Initializing database...
Connected to SQLite database: shows.db
Database schema initialized.
Test data inserted: 3 shows (S1=100, S2=200, S3=150)
Initializing ConcertHall...
════════════════════════════════════════
ConcertHall loaded from DB:
  - Shows: 3
    • Concert Rock (S1): 0/100 seats sold, price=100.0
    • Opera Clasică (S2): 0/100 seats sold, price=200.0
    • Spectacol Jazz (S3): 0/100 seats sold, price=150.0
  - Total balance: 0.0 RON
════════════════════════════════════════


╔════════════════════════════════════════════════════════╗
║      CONCERT HALL TICKET SALES SERVER                 ║
║      Real Client-Server with Socket Communication     ║
╚════════════════════════════════════════════════════════╝

Server listening on port: 8080

════════════════════════════════════════
Server started.
  - Port: 8080
  - Max clients: 50
  - ThreadPool size: 50 workers
  - Verification interval: 10s
  - T_max (reservation timeout): 10s
  - Server runtime: 180s (3 minutes)
════════════════════════════════════════

Waiting for client connections...

[NEW CONNECTION] Client connected from: 127.0.0.1:49388
[CLIENT 1] Connected and authenticated.
[CLIENT 1] Request: PURCHASE - Show 1, Seats: [36, 38, 57, 92, 29]
[NEW CONNECTION] Client connected from: 127.0.0.1:49392
[CLIENT 2] Connected and authenticated.
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [67, 12]
[NEW CONNECTION] Client connected from: 127.0.0.1:49404
[CLIENT 3] Connected and authenticated.
[CLIENT 3] Request: PURCHASE - Show 2, Seats: [34, 50, 52, 26, 78]
[NEW CONNECTION] Client connected from: 127.0.0.1:49412
[CLIENT 4] Connected and authenticated.
[CLIENT 4] Request: PURCHASE - Show 2, Seats: [99]
[NEW CONNECTION] Client connected from: 127.0.0.1:49416
[CLIENT 5] Connected and authenticated.
[CLIENT 5] Request: PURCHASE - Show 3, Seats: [90]
[CLIENT 1] Response: PAYMENT_SUCCESS (time: 872ms) - 500.0
[CLIENT 3] Response: PAYMENT_SUCCESS (time: 541ms) - 1000.0
[NEW CONNECTION] Client connected from: 127.0.0.1:49424
[CLIENT 6] Connected and authenticated.
[CLIENT 6] Request: PURCHASE - Show 1, Seats: [7, 41, 77, 93]
[NEW CONNECTION] Client connected from: 127.0.0.1:49432
[CLIENT 7] Connected and authenticated.
[CLIENT 7] Request: PURCHASE - Show 1, Seats: [68, 21, 41, 74, 29]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 1ms) - Seats already occupied: [41, 29]
[NEW CONNECTION] Client connected from: 127.0.0.1:49444
[CLIENT 8] Connected and authenticated.
[CLIENT 8] Request: PURCHASE - Show 2, Seats: [36, 7]
[CLIENT 4] Response: PAYMENT_SUCCESS (time: 849ms) - 200.0
[NEW CONNECTION] Client connected from: 127.0.0.1:49446
[CLIENT 9] Connected and authenticated.
[CLIENT 9] Request: PURCHASE - Show 1, Seats: [58, 13, 30, 47]
[NEW CONNECTION] Client connected from: 127.0.0.1:49452
[CLIENT 10] Connected and authenticated.
[CLIENT 10] Request: PURCHASE - Show 1, Seats: [17, 7, 46]
[CLIENT 10] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [7]
[CLIENT 2] Response: PAYMENT_SUCCESS (time: 1988ms) - 300.0
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 1506ms) - 150.0
[CLIENT 6] Response: PAYMENT_SUCCESS (time: 1809ms) - 400.0
[CLIENT 1] Request: PURCHASE - Show 1, Seats: [68]
[CLIENT 3] Request: PURCHASE - Show 1, Seats: [5, 74, 45]
[CLIENT 8] Response: PAYMENT_SUCCESS (time: 1636ms) - 400.0
[CLIENT 7] Request: PURCHASE - Show 2, Seats: [24, 10, 79]
[CLIENT 9] Response: PAYMENT_SUCCESS (time: 1755ms) - 400.0
[CLIENT 4] Request: PURCHASE - Show 2, Seats: [87, 40]
[CLIENT 10] Request: PURCHASE - Show 2, Seats: [16, 58, 90]
[CLIENT 4] Response: PAYMENT_SUCCESS (time: 572ms) - 400.0
[CLIENT 3] Response: PAYMENT_SUCCESS (time: 1215ms) - 300.0
[CLIENT 2] Request: PURCHASE - Show 1, Seats: [19, 8, 30, 14]
[CLIENT 2] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [30]
[CLIENT 5] Request: PURCHASE - Show 3, Seats: [72, 40, 74]
[CLIENT 7] Response: PAYMENT_SUCCESS (time: 1258ms) - 600.0
[CLIENT 1] Response: PAYMENT_SUCCESS (time: 1642ms) - 100.0
[CLIENT 6] Request: PURCHASE - Show 2, Seats: [98, 58, 42, 27, 61]
[CLIENT 6] Response: SEATS_OCCUPIED (time: 1ms) - Seats already occupied: [58]
[CLIENT 8] Request: PURCHASE - Show 1, Seats: [65, 18, 23, 87, 63]
[CLIENT 10] Response: PAYMENT_SUCCESS (time: 1202ms) - 600.0
[CLIENT 9] Request: PURCHASE - Show 3, Seats: [84, 6]
[CLIENT 4] Request: PURCHASE - Show 2, Seats: [86, 75]
[CLIENT 8] Response: PAYMENT_SUCCESS (time: 1096ms) - 500.0
[CLIENT 3] Request: PURCHASE - Show 2, Seats: [96, 97]
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 1888ms) - 450.0
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [48, 95, 47]
[CLIENT 7] Request: PURCHASE - Show 1, Seats: [65, 85, 10, 77, 94]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [65, 77]
[CLIENT 1] Request: PURCHASE - Show 2, Seats: [5, 44]
[CLIENT 2] Response: PAYMENT_SUCCESS (time: 521ms) - 450.0
[CLIENT 9] Response: PAYMENT_SUCCESS (time: 1442ms) - 300.0
[CLIENT 6] Request: PURCHASE - Show 2, Seats: [8, 60]
[CLIENT 10] Request: PURCHASE - Show 3, Seats: [64, 98, 19, 68]

[VERIFICATION] Running consistency check...
[VERIFICATION] Result: CORECT
[CLIENT 4] Response: PAYMENT_SUCCESS (time: 1129ms) - 400.0
[CLIENT 3] Response: PAYMENT_SUCCESS (time: 1406ms) - 400.0
[CLIENT 6] Response: PAYMENT_SUCCESS (time: 1210ms) - 400.0
[CLIENT 8] Request: PURCHASE - Show 3, Seats: [33, 13, 14]
[CLIENT 5] Request: PURCHASE - Show 1, Seats: [17, 59]
[CLIENT 10] Response: PAYMENT_SUCCESS (time: 1208ms) - 600.0
[CLIENT 1] Response: PAYMENT_SUCCESS (time: 1882ms) - 400.0
[CLIENT 7] Request: PURCHASE - Show 1, Seats: [49, 65, 82, 54]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [65]
[CLIENT 8] Response: PAYMENT_SUCCESS (time: 531ms) - 450.0
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [35]
[CLIENT 9] Request: PURCHASE - Show 1, Seats: [27, 59, 62]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [59]
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 796ms) - 200.0
[CLIENT 4] Request: PURCHASE - Show 3, Seats: [49, 72, 44, 95, 31]
[CLIENT 4] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [72, 95]
[CLIENT 3] Request: PURCHASE - Show 1, Seats: [83, 36, 91, 45]
[CLIENT 3] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [36, 45]
[CLIENT 2] Response: PAYMENT_SUCCESS (time: 1125ms) - 150.0
[CLIENT 6] Request: PURCHASE - Show 3, Seats: [4, 29]
[CLIENT 10] Request: PURCHASE - Show 2, Seats: [16, 98, 39, 30]
[CLIENT 10] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [16]
[CLIENT 1] Request: PURCHASE - Show 2, Seats: [16, 33, 83, 75, 47]
[CLIENT 1] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [16, 75]
[CLIENT 7] Request: PURCHASE - Show 1, Seats: [35, 36, 23, 89]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [36, 23]
[CLIENT 8] Request: PURCHASE - Show 1, Seats: [48, 87]
[CLIENT 8] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [87]
[CLIENT 9] Request: PURCHASE - Show 3, Seats: [35, 54, 9]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [35]
[CLIENT 5] Request: PURCHASE - Show 3, Seats: [2]
[CLIENT 4] Request: PURCHASE - Show 1, Seats: [99, 94]
[CLIENT 3] Request: PURCHASE - Show 2, Seats: [48, 16, 65, 50]
[CLIENT 3] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [16, 50]
[CLIENT 6] Response: PAYMENT_SUCCESS (time: 1726ms) - 300.0
[CLIENT 2] Request: PURCHASE - Show 1, Seats: [9]
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 1206ms) - 150.0
[CLIENT 10] Request: PURCHASE - Show 3, Seats: [66, 36, 37, 70, 45]
[CLIENT 2] Response: PAYMENT_SUCCESS (time: 558ms) - 100.0
[CLIENT 1] Request: PURCHASE - Show 1, Seats: [49, 56, 44]
[CLIENT 7] Request: PURCHASE - Show 2, Seats: [68, 39]
[CLIENT 8] Request: PURCHASE - Show 3, Seats: [96, 33, 23, 26]
[CLIENT 8] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [33]
[CLIENT 9] Request: PURCHASE - Show 1, Seats: [48, 49, 82, 7, 55]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 1ms) - Seats already occupied: [49, 7]
[CLIENT 10] Response: PAYMENT_SUCCESS (time: 752ms) - 750.0
[CLIENT 4] Response: PAYMENT_SUCCESS (time: 1867ms) - 200.0
[CLIENT 3] Request: PURCHASE - Show 1, Seats: [49, 97, 73, 75]
[CLIENT 3] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [49]
[CLIENT 6] Request: PURCHASE - Show 1, Seats: [72, 9, 12]
[CLIENT 6] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [9]
[CLIENT 1] Response: PAYMENT_SUCCESS (time: 1405ms) - 300.0
[CLIENT 7] Response: PAYMENT_SUCCESS (time: 1384ms) - 400.0
[CLIENT 5] Request: PURCHASE - Show 3, Seats: [1, 51, 87, 25, 89]
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [68, 69, 63]
[CLIENT 2] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [68]
[CLIENT 8] Request: PURCHASE - Show 3, Seats: [81, 67, 52, 43]
[CLIENT 8] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [67]
[CLIENT 9] Request: PURCHASE - Show 2, Seats: [67, 99, 25, 79]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [99, 79]
[CLIENT 10] Request: PURCHASE - Show 1, Seats: [97, 33, 34, 35, 52]
[CLIENT 4] Request: PURCHASE - Show 1, Seats: [53, 7]
[CLIENT 4] Response: SEATS_OCCUPIED (time: 7ms) - Seats already occupied: [7]
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 1030ms) - 750.0
[CLIENT 3] Request: PURCHASE - Show 1, Seats: [66, 46]
[CLIENT 10] Response: PAYMENT_SUCCESS (time: 772ms) - 500.0
[CLIENT 6] Request: PURCHASE - Show 1, Seats: [66, 55]
[CLIENT 6] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [66]
[CLIENT 1] Request: PURCHASE - Show 2, Seats: [86, 74, 12, 28]
[CLIENT 1] Response: SEATS_OCCUPIED (time: 1ms) - Seats already occupied: [86]
[CLIENT 7] Request: PURCHASE - Show 2, Seats: [66, 23, 24, 29, 47]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [24]
[CLIENT 2] Request: PURCHASE - Show 2, Seats: [74]
[CLIENT 8] Request: PURCHASE - Show 2, Seats: [99, 76]
[CLIENT 8] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [99]
[CLIENT 9] Request: PURCHASE - Show 2, Seats: [66, 87, 72, 92]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [87]
[CLIENT 2] Response: PAYMENT_SUCCESS (time: 549ms) - 200.0

[VERIFICATION] Running consistency check...
[VERIFICATION] Result: CORECT
[CLIENT 4] Request: PURCHASE - Show 1, Seats: [17, 60]
[CLIENT 4] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [17]
[CLIENT 5] Request: PURCHASE - Show 2, Seats: [41, 12]
[CLIENT 3] Response: PAYMENT_SUCCESS (time: 1734ms) - 200.0
[CLIENT 10] Request: PURCHASE - Show 2, Seats: [34, 100, 47]
[CLIENT 10] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [34]
[CLIENT 6] Request: PURCHASE - Show 3, Seats: [16, 65, 6]
[CLIENT 6] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [6]
[CLIENT 1] Request: PURCHASE - Show 3, Seats: [99, 3, 90]
[CLIENT 1] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [90]
[CLIENT 7] Request: PURCHASE - Show 2, Seats: [54]
[CLIENT 8] Request: PURCHASE - Show 3, Seats: [9]
[CLIENT 5] Response: PAYMENT_SUCCESS (time: 1763ms) - 400.0
[CLIENT 9] Request: PURCHASE - Show 3, Seats: [99, 85, 45, 30, 79]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [45]
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [81, 36, 53, 26]
[CLIENT 2] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [36]
[CLIENT 4] Request: PURCHASE - Show 2, Seats: [2, 36, 6, 8]
[CLIENT 4] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [36, 8]
[CLIENT 8] Response: PAYMENT_SUCCESS (time: 572ms) - 150.0
[CLIENT 3] Request: PURCHASE - Show 1, Seats: [49, 82, 44]
[CLIENT 3] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [49, 44]
[CLIENT 10] Request: PURCHASE - Show 2, Seats: [48]
[CLIENT 6] Request: PURCHASE - Show 2, Seats: [80]
[CLIENT 1] Request: PURCHASE - Show 2, Seats: [2]
[CLIENT 7] Response: PAYMENT_SUCCESS (time: 1952ms) - 200.0
[CLIENT 5] Request: PURCHASE - Show 1, Seats: [74, 92, 78]
[CLIENT 5] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [74, 92]
[CLIENT 9] Request: PURCHASE - Show 3, Seats: [65, 98, 51, 29]
[CLIENT 9] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [98, 51, 29]
[CLIENT 2] Request: PURCHASE - Show 3, Seats: [40]
[CLIENT 2] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [40]
[CLIENT 1] Response: PAYMENT_SUCCESS (time: 1224ms) - 200.0
[CLIENT 4] Request: PURCHASE - Show 1, Seats: [22, 94]
[CLIENT 4] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [94]
[CLIENT 6] Response: PAYMENT_SUCCESS (time: 1308ms) - 200.0
[CLIENT 8] Request: PURCHASE - Show 3, Seats: [89, 28]
[CLIENT 8] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [89]
[CLIENT 10] Response: PAYMENT_SUCCESS (time: 1559ms) - 200.0
[CLIENT 3] Request: PURCHASE - Show 2, Seats: [61, 29]
[CLIENT 7] Request: PURCHASE - Show 2, Seats: [56, 79]
[CLIENT 7] Response: SEATS_OCCUPIED (time: 0ms) - Seats already occupied: [79]
[CLIENT 3] Response: PAYMENT_SUCCESS (time: 804ms) - 400.0
